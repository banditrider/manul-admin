{"version":3,"sources":["../../src/hocs/with_collection_props.js"],"names":[],"mappings":";;;;;;;;;;;;0BACmC,aAAa;;sBAClC,QAAQ;;;;AAEf,IAAM,QAAQ,GAAG,SAAX,QAAQ,CAAG,IAAI;SAAI,UAAC,IAAqC,EAAE,MAAM,EAAK;QAAhD,OAAO,GAAT,IAAqC,CAAnC,OAAO;QAAE,cAAc,GAAzB,IAAqC,CAA1B,cAAc;;QAAK,KAAK,4BAAnC,IAAqC;;mBAKhE,OAAO,EAAE;;yCAHX,YAAY;QACV,YAAY,yBAAZ,YAAY;QAAE,gBAAgB,yBAAhB,gBAAgB;QAAE,MAAM,yBAAN,MAAM;QAGlC,WAAW,GAAK,MAAM,CAAtB,WAAW;;AACnB,QAAM,YAAY,GAAG,gBAAgB,CAAC,eAAe,CAAC,cAAc,CAAC,CAAC;sCACzB,WAAW,CAAC,cAAc,CAAC;QAAhE,UAAU,+BAAV,UAAU;QAAE,MAAM,+BAAN,MAAM;;QAAK,SAAS;;AACxC,QAAM,SAAS,GAAG,YAAY,CAAC,EAAE,cAAc,EAAd,cAAc,EAAE,IAAI,EAAJ,IAAI,EAAE,CAAC,CAAC;AACzD,UAAM,CAAC,IAAI;AACT,eAAS,EAAT,SAAS;AACT,gBAAU,EAAV,UAAU;AACV,YAAM,EAAE,MAAM,IAAI,oBAAE,MAAM,CAAC,UAAU,EAAE,cAAc,CAAC;AACtD,kBAAY,EAAZ,YAAY;OACT,SAAS,EACT,KAAK,EACR,CAAC;GACJ;CAAA,CAAC;;;;;qBAGa,UAAA,IAAI;SAAI,oCAAmB,QAAQ,CAAC,IAAI,CAAC,CAAC;CAAA","file":"with_collection_props.js","sourcesContent":["\nimport { composeWithTracker } from 'mantra-core';\nimport _ from 'lodash';\n\nexport const composer = type => ({ context, collectionName, ...props }, onData) => {\n  const {\n    adminContext: {\n      getComponent, publicationUtils, config,\n    },\n  } = context();\n  const { collections } = config;\n  const publications = publicationUtils.getPublications(collectionName);\n  const { collection, schema, ...colConfig } = collections[collectionName];\n  const Component = getComponent({ collectionName, type });\n  onData(null, {\n    Component,\n    collection,\n    schema: schema || _.result(collection, 'simpleSchema'),\n    publications,\n    ...colConfig,\n    ...props, // allow override\n  });\n};\n\n\nexport default type => composeWithTracker(composer(type));\n"]}